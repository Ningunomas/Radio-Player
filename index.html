<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Player Agrupado y Documentado</title>
    <style>
    /* Estilos generales */
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f4f7f6;
        margin: 0;
        padding: 20px;
    }

    /* Contenedor principal para la maquetaci√≥n de dos columnas */
    .main-layout {
        display: flex;
        justify-content: center;
        gap: 30px;
        max-width: 1000px;
        margin: 0 auto;
    }

    /* Estilos de la columna de radio */
    .radio-column {
        flex: 2;
        max-width: 500px;
        background-color: white;
        padding: 25px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        border-radius: 8px;
    }

    /* Estilos de la columna del aclaratorio */
    .info-column {
        flex: 1;
        min-width: 280px;
        background-color: #ecf0f1;
        padding: 25px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        border-radius: 8px;
        align-self: flex-start;
    }
    
    /* Media Query para pantallas peque√±as (m√≥viles) */
    @media (max-width: 850px) {
        .main-layout {
            flex-direction: column;
        }
        .info-column {
            order: -1;
            min-width: unset;
            margin-bottom: 20px;
        }
    }

    /* --- Estilos del reproductor y listas --- */
    h1 {
        color: #2c3e50;
        text-align: center;
        margin-top: 0;
    }
    #audio-player {
        width: 100%;
        margin-bottom: 20px;
    }
    #current-track {
        text-align: center;
        margin-top: 15px;
        font-size: 1.1em;
        color: #555;
        font-weight: 500;
    }

    /* Estilos del Acorde√≥n/Grupos de Pa√≠s */
    .country-header {
        background-color: #3498db;
        color: white;
        padding: 15px;
        cursor: pointer;
        font-size: 1.1em;
        font-weight: bold;
        border-radius: 4px;
        margin-top: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background-color 0.2s;
    }
    .country-header:hover {
        background-color: #2980b9;
    }
    .toggle-icon {
        font-size: 1.2em;
        transition: transform 0.3s;
    }
    .country-header.active .toggle-icon {
        transform: rotate(90deg);
    }

    /* üö® SOLUCI√ìN 1: La lista debe estar totalmente colapsada por defecto */
    .radio-list {
        list-style: none;
        padding: 0;
        margin: 0;
        border: 1px solid #ddd;
        border-top: none;
        max-height: 0;
        overflow: hidden; /* Esto asegura que el contenido extra no se muestre */
        transition: max-height 0.3s ease-in-out;
        border-radius: 0 0 4px 4px;
    }

    /* üöÄ SOLUCI√ìN 2: Clase 'open' para mostrar y permitir SCROLL */
        .radio-list.open {
    /* üëà CAMBIA 500px POR UN VALOR MAYOR */
    max-height: 1500px; /* ‚úÖ Aumentado para asegurar que las listas largas excedan este l√≠mite */
    
    border-top: 1px solid #ddd;
    
    /* Esta l√≠nea es la que funciona. Si el contenido pasa de 1500px, aparecer√° el scroll. */
    overflow-y: auto;
        }

    .radio-list li {
        padding: 12px 15px;
        border-bottom: 1px solid #eee;
        cursor: pointer;
        transition: background-color 0.15s;
    }
    .radio-list li:last-child {
        border-bottom: none;
    }
    .radio-list li:hover {
        background-color: #ecf0f1;
    }
    .radio-list .active-station {
        background-color: #2ecc71;
        color: white;
        font-weight: bold;
    }
</style>
</head>
<body>

    <div class="main-layout">
        
        <div class="info-column">
            <h2>üìú Aclaraci√≥n del Proyecto</h2>
            <p style="font-size: 0.9em; line-height: 1.5;">
                Este reproductor ha sido creado facilitar la adici√≥n de radio en vivo en **Euro Truck Simulator 2 (ETS 2)** y **American Truck Simulator (ATS)**, especialmente para usuarios de **NVIDIA GeForce NOW (GFN)**.
            </p>
            
            <p style="font-size: 0.9em; line-height: 1.5; border-left: 3px solid #f39c12; padding-left: 10px;">
                ‚ö†Ô∏è **Aviso Importante:** Las radios son *streams* p√∫blicos de terceros. Si hay alg√∫n **problema de copyright o legal**, la emisora ser√° **retirada inmediatamente**.
            </p>
            
            <p style="font-size: 0.9em; line-height: 1.5;">
                **¬øQuieres m√°s canales?** ¬°Genial! Deja un comentario o abre una *Issue* en GitHub **<a href="https://github.com/Ningunomas/Radio-Player" target="_blank">del proyecto</a>** con el **nombre** y la **URL directa** del *stream*.
            </p>
        </div>

        <div class="radio-column">
            <h1>üöö Radio por Pa√≠s (ETS/ATS GFN)</h1>

            <audio id="audio-player" controls autoplay></audio>
            
            <p id="current-track">Selecciona una emisora de la lista.</p>

            <div id="grouped-radio-container">
                </div>
        </div>

    </div>

    <script>
        // --- 1. ESTRUCTURA DE DATOS AGRUPADA POR PA√çS ---
        const groupedStations = {
            "Espa√±a üá™üá∏": [
                { 
                    name: "Los 40 Principales", 
                    url: "https://21223.live.streamtheworld.com/LOS40_SC" 
                },
                { 
                    name: "Los 40 Classic", 
                    url: "http://21633.live.streamtheworld.com/LOS40_CLASSIC.mp3" 
                },
                { 
                    name: "Los 40 Dance", 
                    url: "http://23543.live.streamtheworld.com/LOS40_DANCE.mp3" 
                },
                { 
                    name: "La Cope", 
                    url: "https://net1-cope-rrcast.flumotion.com/cope/net2-low.mp3" 
                },
                { 
                    name: "Es Radio", 
                    url: "http://livestreaming.esradio.fm/stream64.mp3" 
                },
                { 
                    name: "Kiss FM", 
                    url: "http://kissfm.kissfmradio.cires21.com/kissfm.mp3" 
                },
                { 
                    name: "Cadena 100", 
                    url: "https://cadena100-cope-rrcast.flumotion.com/cope/cadena100-low.mp3" 
                },
                { 
                    name: "Rock FM", 
                    url: "https://rockfm-cope-rrcast.flumotion.com/cope/rockfm-low.mp3" 
                },
                { 
                    name: "La Ser", 
                    url: "http://25603.live.streamtheworld.com/CADENASER.mp3" 
                },
                { 
                    name: "Hit FM", 
                    url: "http://hitfm.kissfmradio.cires21.com/hitfm.mp3" 
                },
                { 
                    name: "Onda Cero", 
                    url: "http://icecast-streaming.nice264.com/ondacero" 
                },
                { 
                    name: "Europa FM", 
                    url: "http://stm1.emiteonline.com:8001/europafmhuelva" 
                },
                { 
                    name: "Cadena Dial", 
                    url: "https://20073.live.streamtheworld.com/CADENADIAL_SC" 
                },
                { 
                    name: "Radio Ole", 
                    url: "http://21633.live.streamtheworld.com/RADIOLE.mp3" 
                },
                { 
                    name: "Gozadera FM", 
                    url: "https://azura.abcorp.es/radio/8070/live" 
                },
                { 
                    name: "Bikini FM", 
                    url: "https://stream.mediasector.es/radio/8030/bikinifm.mp3?1585784696" 
                },
                {
                    name: "Radio Marca",
                    url: "https://playerservices.streamtheworld.com/api/livestream-redirect/RADIOMARCA_NACIONAL.mp3?dist=onlineradiobox"
                },
                { 
                    name: "Love 90", 
                    url: "https://c6.auracast.net/radio/8090/radio.mp3" 
                },
                { 
                    name: "Radio Maria", 
                    url: "https://dreamsiteradiocp2.com/proxy/rmspain2?mp=/stream" 
                },
                { 
                    name: "RAC 1", 
                    url: "https://playerservices.streamtheworld.com/api/livestream-redirect/RAC_1.mp3?dist=onlineradiobox" 
                },
                { 
                    name: "Radio Taxi", 
                    url: "https://radiott-web.streaming-pro.com:6103/radiott.mp3" 
                },
                { 
                    name: "MetalFlames Radio", 
                    url: "https://stream.zeno.fm/rb354pruvs8uv" 
                },
                { 
                    name: "1000 HITS SPAIN", 
                    url: "https://c2.auracast.net/radio/8022/radio.mp3" 
                },
                { 
                    name: "Radio Planeta", 
                    url: "https://radioplaneta.emitironline.com/radio" 
                },
                { 
                    name: "Ibiza Live Radio", 
                    url: "https://streams.radio.co/sdc9cfaf77/listen" 
                },
                { 
                    name: "Zona Rap", 
                    url: "https://radio.zonarap.es/listen/zona_rap_radio/radio.mp3" 
                },
                { 
                    name: "Loca Latino", 
                    url: "https://srv7021.dns-lcinternet.com/8028/stream?hash=1733779053767.mp3" 
                },
                { 
                    name: "Radio Nature", 
                    url: "https://stream.zeno.fm/sfpqezsh6f0uv" 
                },
                { 
                    name: "Carnaval FM", 
                    url: "https://streaming2.elitecomunicacion.es:8108/stream" 
                },
                { 
                    name: "Mortal FM", 
                    url: "http://stream2.beatproducciones.com:8044/;" 
                },
                { 
                    name: "IlloJuan Sounds", 
                    url: "https://stream.zeno.fm/dfxrsplg0aiuv" 
                },
                { 
                    name: "Tormes FM", 
                    url: "http://str1.mediatelekom.net:8738/;" 
                }
            ],
            "Latinoam√©rica üåé": [
                { 
                    name: "Radio Que Onda", 
                    url: "https://cast3.my-control-panel.com/proxy/gabriel4/stream" 
                },
                { 
                    name: "Universal Stereo", 
                    url: "https://playerservices.streamtheworld.com/api/livestream-redirect/XHFO_FM.mp3?dist=onlineradiobox" 
                },
                { 
                    name: "Radio Disney", 
                    url: "https://playerservices.streamtheworld.com/api/livestream-redirect/DISNEY_ARG_BA.mp3?dist=onlineradiobox" 
                },
                { 
                    name: "Radio Salsa", 
                    url: "http://radio.domiplay.net:2002/;" 
                },
                { 
                    name: "Truckers FM", 
                    url: "https://radio.truckers.fm/" 
                }
            ],
            "Otros üåç": [
                { 
                    name: "Hits Radio Liberia", 
                    url: "https://s4.radio.co/sada156669/listen" 
                },
                { 
                    name: "Radio Romanul", 
                    url: "http://streaming.radioromanul.es:55556/web" 
                },
                { 
                    name: "J-Pop Powerplay", 
                    url: "https://kathy.torontocast.com:3560/;" 
                },
                { 
                    name: "Hits Radio Liberia", 
                    url: "https://s4.radio.co/sada156669/listen" 
                },
                { 
                    name: "Splash Coffee", 
                    url: "https://ais-sa2.cdnstream1.com/2345_128.mp3" 
                },
                { 
                    name: "Generations Rap Fran√ßais", 
                    url: "https://generationfm-rap.ice.infomaniak.ch/generationfm-rap-high.mp3" 
                },
                { 
                    name: "Future Groove FM", 
                    url: "https://streamer.radio.co/s4b3dafa6d/listen" 
                },
                { 
                    name: "One World Radio", 
                    url: "https://playerservices.streamtheworld.com/api/livestream-redirect/OWR_INTERNATIONAL.mp3?dist=onlineradiobox" 
                },
                { 
                    name: "American Road Radio", 
                    url: "https://c5.radioboss.fm:18224/stream" 
                },
                { 
                    name: "Planet Hip Hop", 
                    url: "https://str3.openstream.co/1841" 
                },
                { 
                    name: "Radio Voz de Santo Tirso", 
                    url: "https://radios.justweb.pt/8024/stream" 
                },
                 { 
                    name: "Truckers FM", 
                    url: "https://radio.truckers.fm/" 
                }
            ]
        };

        // --- 2. ELEMENTOS DEL DOM y Variables ---
        const player = document.getElementById('audio-player');
        const container = document.getElementById('grouped-radio-container');
        const currentTrackDisplay = document.getElementById('current-track');
        
        let currentActiveItem = null;

        // --- 3. FUNCI√ìN PRINCIPAL DE CARGA DE EMISORA ---
        function loadStation(station, listItem) {
            player.src = station.url;
            player.load();
            player.play().catch(error => {
                console.error("Fallo al reproducir autom√°ticamente:", error);
            });
            
            currentTrackDisplay.textContent = `Reproduciendo: ${station.name}`;

            if (currentActiveItem) {
                currentActiveItem.classList.remove('active-station');
            }
            listItem.classList.add('active-station');
            currentActiveItem = listItem;
        }

        // --- 4. FUNCI√ìN PARA GENERAR LA ESTRUCTURA DEL ACORDE√ìN ---
        Object.keys(groupedStations).forEach(country => {
            const stations = groupedStations[country];
            
            const header = document.createElement('div');
            header.className = 'country-header';
            header.innerHTML = `${country} <span class="toggle-icon">‚ñ∂</span>`;
            
            const radioList = document.createElement('ul');
            radioList.className = 'radio-list';

            header.addEventListener('click', () => {
                radioList.classList.toggle('open');
                header.classList.toggle('active');
                
                document.querySelectorAll('.radio-list.open').forEach(list => {
                    if (list !== radioList) {
                        list.classList.remove('open');
                        list.previousElementSibling.classList.remove('active');
                    }
                });
            });

            stations.forEach(station => {
                const listItem = document.createElement('li');
                listItem.textContent = station.name;
                
                listItem.addEventListener('click', () => {
                    loadStation(station, listItem);
                });
                
                radioList.appendChild(listItem);
            });

            container.appendChild(header);
            container.appendChild(radioList);
        });

        if (player) {
             player.pause();
        }

    </script>
    
</body>
</html>
